{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,SAEhCC,EAAO,CACXC,QAASJ,EAAO,GAChBK,OAAQL,EAAO,GACfM,SAAUN,EAAO,IAGXO,EAA8BJ,EAA9BC,QAASI,EAAqBL,EAArBE,OAAQI,EAAaN,EAAbG,SAEzBN,EAAOU,iBAAiB,UAAU,SAACC,GACjCA,EAAEC,iBACF,IAAIC,EAAQ,EACRC,EAAaC,OAAOR,EAAQS,OAC5BC,EAAgBC,aAAY,WAelC,IAAuBC,EAAUC,EAdzBP,EAAQJ,EAASO,OACnBH,GAAS,EACTC,GAAcC,OAAOP,EAAOQ,QAYXG,EAXHN,EAWaO,EAXNN,EAAaC,OAAOP,EAAOQ,OAY7C,IAAIK,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACDH,EACRF,EAAQ,CAAEH,WAAUC,UAEpBG,EAAO,CAAEJ,WAAUC,YAEnBA,OApBwDQ,MAAK,SAAAC,G,IAAGV,EAAQU,EAARV,SAAUC,EAAKS,EAALT,MACxEtB,EAAAgC,OAAOC,QAAQ,uBAAwCC,OAAfb,EAAS,QAAYa,OAANZ,EAAM,UAC5Da,OAAM,SAAAJ,G,IAAGV,EAAQU,EAARV,SAAUC,EAAKS,EAALT,MACpBtB,EAAAgC,OAAOI,QAAQ,sBAAqCF,OAAfb,EAAS,QAAYa,OAANZ,EAAM,WAG5De,cAAclB,KAEfT,EAAOQ,U","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formEl = document.querySelector('.form');\n\nconst refs = {\n  delayEl: formEl[0],\n  stepEl: formEl[1],\n  amountEl: formEl[2],\n}\n\nconst { delayEl, stepEl, amountEl } = refs;\n\nformEl.addEventListener('submit', (e) => {\n  e.preventDefault();\n  let count = 0;\n  let firstValue = Number(delayEl.value);\n  let countInterval = setInterval(() => {\n    if (count < amountEl.value) {\n      count += 1;\n      firstValue += Number(stepEl.value);\n      createPromise(count, firstValue - Number(stepEl.value)).then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }).catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      })\n    } else {\n      clearInterval(countInterval)\n    }\n  }, stepEl.value);\n})\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n          if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay })\n    }\n    },delay)\n  })\n}\n\n\n\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$refs","delayEl","stepEl","amountEl","$ce04d3a99e08e73b$var$delayEl","$ce04d3a99e08e73b$var$stepEl","$ce04d3a99e08e73b$var$amountEl","addEventListener","e","preventDefault","count","firstValue","Number","value","countInterval","setInterval","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","then","param","Notify","success","concat","catch","failure","clearInterval"],"version":3,"file":"03-promises.87664e25.js.map"}