{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,SAEhCC,EAAO,CACXC,QAASJ,EAAO,GAChBK,OAAQL,EAAO,GACfM,SAAUN,EAAO,KAGbI,QAAEG,EAAOF,OAAEG,EAAMF,SAAEG,GAAaN,EAEtCH,EAAOU,iBAAiB,UAAWC,IACjCA,EAAEC,iBACF,IAAIC,EAAQ,EACRC,EAAaC,OAAOR,EAAQS,OAC5BC,EAAgBC,aAAY,KAelC,IAAuBC,EAAUC,EAdzBP,EAAQJ,EAASO,OACnBH,GAAS,EACTC,GAAcC,OAAOP,EAAOQ,QAYXG,EAXHN,EAWaO,EAXNN,EAAaC,OAAOP,EAAOQ,OAY7C,IAAIK,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACDH,EACRF,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,MAEnBA,OApBwDQ,MAAK,EAACT,SAAEA,EAAQC,MAAEA,MACxEtB,EAAA+B,OAAOC,QAAQ,uBAAqBX,QAAiBC,UACpDW,OAAM,EAACZ,SAAEA,EAAQC,MAAEA,MACpBtB,EAAA+B,OAAOG,QAAQ,sBAAoBb,QAAeC,WAGpDa,cAAchB,KAEfT,EAAOQ","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formEl = document.querySelector('.form');\n\nconst refs = {\n  delayEl: formEl[0],\n  stepEl: formEl[1],\n  amountEl: formEl[2],\n}\n\nconst { delayEl, stepEl, amountEl } = refs;\n\nformEl.addEventListener('submit', (e) => {\n  e.preventDefault();\n  let count = 0;\n  let firstValue = Number(delayEl.value);\n  let countInterval = setInterval(() => {\n    if (count < amountEl.value) {\n      count += 1;\n      firstValue += Number(stepEl.value);\n      createPromise(count, firstValue - Number(stepEl.value)).then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }).catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      })\n    } else {\n      clearInterval(countInterval)\n    }\n  }, stepEl.value);\n})\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n          if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay })\n    }\n    },delay)\n  })\n}\n\n\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$refs","delayEl","stepEl","amountEl","$47d4ff9957288465$var$delayEl","$47d4ff9957288465$var$stepEl","$47d4ff9957288465$var$amountEl","addEventListener","e","preventDefault","count","firstValue","Number","value","countInterval","setInterval","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","then","Notify","success","catch","failure","clearInterval"],"version":3,"file":"03-promises.28dcd7e8.js.map"}